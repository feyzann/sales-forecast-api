ğŸ“ŠOtomatik SatÄ±ÅŸ ve Stok
Tahminleme API'si
KapsamlÄ± Developer Rehberi
ğŸ¯ Bu Rehber Kimler Ä°Ã§in?
Bu dokÃ¼man, API'yi projelerine entegre edecek geliÅŸtiriciler iÃ§in A'dan Z'ye bir
teknik rehber olarak hazÄ±rlanmÄ±ÅŸtÄ±r. API, istek gÃ¶nder ve anÄ±nda cevap al
(senkron) prensibiyle Ã§alÄ±ÅŸÄ±r ve en karmaÅŸÄ±k tahmin senaryolarÄ±nÄ± bile basit
parametrelerle yÃ¶netmenizi saÄŸlar.
ğŸ“– Sistem Nedir ve Ne Yapar?
Bu API, geÃ§miÅŸ satÄ±ÅŸ verilerinizi kullanarak geleceÄŸe yÃ¶nelik istatistiksel tahminler
Ã¼reten bir makine Ã¶ÄŸrenmesi servisidir. "Ã–nÃ¼mÃ¼zdeki ay iÃ§in haftalÄ±k satÄ±ÅŸ kÄ±rÄ±lÄ±mÄ± ne
olur?" gibi iÅŸ sorularÄ±na saniyeler iÃ§inde yanÄ±t verir.
GeÃ§miÅŸ SatÄ±ÅŸ Verisi â†’ API Ä°steÄŸi â†’ ML Analizi
â†’ DetaylÄ± Tahmin SonuÃ§larÄ±
Temel Ã–zellikler:
Esnek Veri Okuma: FarklÄ± kolon adlarÄ±nÄ± (`tarih`, `date`, `satis`, `quantity`)
otomatik tanÄ±r.
8/17/25, 12:40 AM Otomatik SatÄ±ÅŸ ve Stok Tahminleme API'si - KapsamlÄ± Teknik Rehber
ï¬le:///Users/ayberkcakar/Downloads/sales-prediction-api-doc.html 1/8

Ã‡oklu Zaman Serisi: GÃ¼nlÃ¼k, haftalÄ±k ve aylÄ±k periyotlarda tahmin alabilme.
AnÄ±nda SonuÃ§: TÃ¼m iÅŸlemlerin tek bir istek-cevap dÃ¶ngÃ¼sÃ¼nde tamamlanmasÄ±.
AkÄ±llÄ± Veri HazÄ±rlama: AykÄ±rÄ± deÄŸerleri (outlier) ve eksik verileri sizin yerinize
yÃ¶netir.
Harici FaktÃ¶rler: Promosyon, tatil gibi satÄ±ÅŸlarÄ± etkileyen harici faktÃ¶rleri modele
dahil edebilme.
ğŸ›  Teknoloji YÄ±ÄŸÄ±nÄ± ve Mimarisi
Model & MantÄ±k KatmanÄ± (Python): TÃ¼m veri analizi, Ã¶zellik mÃ¼hendisliÄŸi ve
makine Ã¶ÄŸrenmesi modelleri (Scikit-learn, Pandas, Prophet, XGBoost) Python
ekosisteminde geliÅŸtirilmiÅŸtir.
API Sunucusu (Flask): Gelen HTTP istekleri, hafif ve yÃ¼ksek performanslÄ± bir
web framework olan Flask ile karÅŸÄ±lanÄ±r, doÄŸrulanÄ±r ve iÅŸlenir.
Konteynerizasyon (Docker): UygulamanÄ±n tamamÄ±, tÃ¼m baÄŸÄ±mlÄ±lÄ±klarÄ± ile
birlikte bir Docker konteyneri olarak paketlenmiÅŸtir. Bu, farklÄ± ortamlarda
(geliÅŸtirme, test, production) tutarlÄ± bir ÅŸekilde Ã§alÄ±ÅŸmasÄ±nÄ± garanti eder.
CI/CD (GitHub Actions): Koddaki her deÄŸiÅŸiklik, GitHub Actions Ã¼zerinde
tanÄ±mlÄ± bir pipeline aracÄ±lÄ±ÄŸÄ±yla otomatik olarak test edilir, derlenir ve baÅŸarÄ±lÄ±
olmasÄ± durumunda production ortamÄ±na gÃ¼venli bir ÅŸekilde daÄŸÄ±tÄ±lÄ±r.
ğŸ”§ API KullanÄ±mÄ±
POST /api/v1/predict
Request Parametreleri
Parametre Tip Zorunlu AÃ§Ä±klama Ã–rnek
data Array Evet GeÃ§miÅŸ satÄ±ÅŸ
verilerini iÃ§eren
[{"tarih":
"...",
8/17/25, 12:40 AM Otomatik SatÄ±ÅŸ ve Stok Tahminleme API'si - KapsamlÄ± Teknik Rehber
ï¬le:///Users/ayberkcakar/Downloads/sales-prediction-api-doc.html 2/8

Parametre Tip Zorunlu AÃ§Ä±klama Ã–rnek
JSON objeleri
dizisi.
"satis":
...}]
prediction_period Integer Evet
KaÃ§ periyot ileriye
dÃ¶nÃ¼k tahmin
yapÄ±lacaÄŸÄ±.
30
prediction_frequencyString Evet
Tahmin
periyodunun
frekansÄ± ("daily",
"weekly",
"monthly").
"daily"
aggregation_levelString HayÄ±r
Verilen gÃ¼nlÃ¼k
verinin tahmin
Ã¶ncesi hangi
seviyede
toplanacaÄŸÄ±
("daily", "weekly",
"monthly").
VarsayÄ±lan: "daily".
"weekly"
feature_columns Array
(String) HayÄ±r
Modelin analiz
etmesi iÃ§in
belirtilen ek kolon
adlarÄ±.
["promosyon",
"tatil_gunu"]
confidence_intervalBoolean HayÄ±r
Tahminler iÃ§in
gÃ¼ven aralÄ±ÄŸÄ±nÄ±n
(alt/Ã¼st limit)
dÃ¶ndÃ¼rÃ¼lÃ¼p
dÃ¶ndÃ¼rÃ¼lmeyeceÄŸi.
VarsayÄ±lan: false.
true
Tahmin SenaryolarÄ±
8/17/25, 12:40 AM Otomatik SatÄ±ÅŸ ve Stok Tahminleme API'si - KapsamlÄ± Teknik Rehber
ï¬le:///Users/ayberkcakar/Downloads/sales-prediction-api-doc.html 3/8

ğŸ“… Senaryo 1: Gelecek 15 GÃ¼n Ä°Ã§in GÃ¼nlÃ¼k Tahmin
Ä°ÅŸ Sorusu: "Ã–nÃ¼mÃ¼zdeki iki hafta boyunca her bir gÃ¼n iÃ§in satÄ±ÅŸ beklentim
nedir?"
{
  "prediction_period": 15,
  "prediction_frequency": "daily"
}
// SonuÃ§: 15 adet gÃ¼nlÃ¼k tahmin dÃ¶ner.
ğŸ“Š Senaryo 2: Gelecek 3 Ay Ä°Ã§in AylÄ±k Toplam Tahmin
Ä°ÅŸ Sorusu: "Bir sonraki Ã§eyrekte her bir ay iÃ§in toplam satÄ±ÅŸ hedefim ne olmalÄ±?"
{
  "prediction_period": 3,
  "prediction_frequency": "monthly",
  "aggregation_level": "monthly" // GÃ¼nlÃ¼k veriyi aylÄ±k toplamlara Ã§evirir
}
// SonuÃ§: 3 adet aylÄ±k toplam tahmini dÃ¶ner.
ğŸ“ˆ Senaryo 3: Gelecek AyÄ±n HaftalÄ±k SatÄ±ÅŸ KÄ±rÄ±lÄ±mÄ±
Ä°ÅŸ Sorusu: "Gelecek ayki toplam satÄ±ÅŸ hedefimin haftalara gÃ¶re daÄŸÄ±lÄ±mÄ± nasÄ±l
olacak? Hangi hafta daha yoÄŸun geÃ§ecek?"
{
  "prediction_period": 4, // Gelecek 4 hafta
  "prediction_frequency": "weekly",
  "aggregation_level": "weekly" // GÃ¼nlÃ¼k veriyi haftalÄ±k toplamlara Ã§eviri
8/17/25, 12:40 AM Otomatik SatÄ±ÅŸ ve Stok Tahminleme API'si - KapsamlÄ± Teknik Rehber
ï¬le:///Users/ayberkcakar/Downloads/sales-prediction-api-doc.html 4/8

}
// SonuÃ§: Gelecek 4 hafta iÃ§in 4 adet haftalÄ±k tahmin dÃ¶ner.
Ã–rnek KapsamlÄ± Request
POST /api/v1/predict
Content-Type: application/json
Authorization: Bearer sk_live_your_secret_token
{
  "data": [
    {"tarih": "2025-07-01", "satis_miktari": 120, "kampanya": "yok"},
    {"tarih": "2025-07-02", "satis_miktari": 135, "kampanya": "yok"},
    {"tarih": "2025-07-03", "satis_miktari": 250, "kampanya": "bayram_indirimi"},
    // ... yÃ¼zlerce satÄ±r daha
  ],
  "prediction_period": 7,
  "prediction_frequency": "daily",
  "feature_columns": ["kampanya"],
  "confidence_interval": true
}
Ã–rnek KapsamlÄ± Response
{
  "success": true,
  "request_id": "pred-a1b2c3d4-e5f6-7890",
  "processing_time_ms": 3150,
  "data_summary": {
    "input_rows": 365,
    "date_range": "2024-07-16 to 2025-07-15",
    "data_quality_score": 0.95,
    "features_used": ["trend", "weekly_seasonality", "kampanya"]
  },
  "predictions": [
    {
      "date": "2025-07-16",
      "predicted_value": 145.8,
      "confidence_lower": 132.1,
      "confidence_upper": 159.5
    },
    // ... 6 gÃ¼n daha
  ],
8/17/25, 12:40 AM Otomatik SatÄ±ÅŸ ve Stok Tahminleme API'si - KapsamlÄ± Teknik Rehber
ï¬le:///Users/ayberkcakar/Downloads/sales-prediction-api-doc.html 5/8

  "model_info": {
    "algorithm": "Ensemble (Prophet+XGBoost)",
    "accuracy_score_mape": 0.08
  }
}
ğŸ” Veri Ä°ÅŸleme Pipeline
1. Otomatik Kolon TanÄ±ma
Sistem, gelen verideki kolonlarÄ± isimlendirme paternlerine gÃ¶re otomatik olarak tanÄ±r. Bu
sayede her seferinde veri setinizi yeniden adlandÄ±rmanÄ±za gerek kalmaz.
Kolon Tipi TanÄ±nan Kelimeler
Tarih tarih, date, gun, day, zaman, time
SatÄ±ÅŸ satis, sales, miktar, quantity, adet, amount, value
ÃœrÃ¼n/Grup urun, product, sku, kod, code, item, kategori, category
ğŸ§® Model SeÃ§imi
AkÄ±llÄ± ve Otomatik Model SeÃ§imi
Tek bir model her senaryo iÃ§in en iyisi deÄŸildir. Bu yÃ¼zden sistem, saÄŸladÄ±ÄŸÄ±nÄ±z
verinin Ã¶zelliklerine (veri miktarÄ±, mevsimsellik gÃ¼cÃ¼ vb.) gÃ¶re en uygun makine
Ã¶ÄŸrenmesi modelini veya modellerin bir kombinasyonunu (ensemble) otomatik
olarak seÃ§er. Bu, her seferinde en yÃ¼ksek doÄŸruluk oranÄ±nÄ± hedeflememizi saÄŸlar.
8/17/25, 12:40 AM Otomatik SatÄ±ÅŸ ve Stok Tahminleme API'si - KapsamlÄ± Teknik Rehber
ï¬le:///Users/ayberkcakar/Downloads/sales-prediction-api-doc.html 6/8

âš¡ Performans ve Limitler
Limit Tipi DeÄŸer AÃ§Ä±klama
Maksimum Veri
Boyutu 100,000 satÄ±r Tek bir istekte gÃ¶nderilebilecek
maksimum satÄ±r sayÄ±sÄ±.
Maksimum
Tahmin Periyodu
365 gÃ¼n / 52
hafta / 12 ay Ä°stenen frekansa baÄŸlÄ± olarak deÄŸiÅŸir.
Request Timeout5 dakika Bir isteÄŸin bu sÃ¼reden daha uzun sÃ¼rmesi
durumunda zaman aÅŸÄ±mÄ±na uÄŸrar.
Rate Limit 100 istek/saat Her bir API anahtarÄ± iÃ§in saatlik istek
limiti.
ğŸ” GÃ¼venlik
Authentication (Kimlik DoÄŸrulama)
API'ye yapÄ±lan tÃ¼m istekler, geÃ§erli bir kimlik bilgisi iÃ§ermelidir. AÅŸaÄŸÄ±daki iki yÃ¶ntemden
birini kullanabilirsiniz:
# YÃ¶ntem 1: Bearer Token (Ã–nerilen) # HTTP Header'Ä±na eklenir.
Authorization: Bearer sk_live_your_secret_token # YÃ¶ntem 2: API
Key Header # Alternatif olarak bu header kullanÄ±labilir. X-API-
Key: your_api_key
ğŸ›  Hata YÃ¶netimi (Error Handling)
â— 400 - Bad Request
8/17/25, 12:40 AM Otomatik SatÄ±ÅŸ ve Stok Tahminleme API'si - KapsamlÄ± Teknik Rehber
ï¬le:///Users/ayberkcakar/Downloads/sales-prediction-api-doc.html 7/8

Sebep: Ä°stek gÃ¶vdesinde zorunlu bir parametre (Ã¶rn: `data` veya
`prediction_period`) eksik veya yanlÄ±ÅŸ formatta gÃ¶nderildi.
Ã‡Ã¶zÃ¼m: API dokÃ¼manÄ±nda belirtilen request formatÄ±nÄ± ve parametreleri tekrar
kontrol edin.
{"error": "missing_parameter", "message":
"'prediction_frequency' parametresi zorunludur."}
ğŸ”‘ 401 - Unauthorized
Sebep: GÃ¶nderilen API anahtarÄ± (token) geÃ§ersiz, sÃ¼resi dolmuÅŸ veya hiÃ§
gÃ¶nderilmemiÅŸ.
Ã‡Ã¶zÃ¼m: `Authorization` veya `X-API-Key` header'Ä±nÄ±n doÄŸru ve geÃ§erli bir
anahtar ile gÃ¶nderildiÄŸinden emin olun.
ğŸ“‰ 422 - Unprocessable Entity
Sebep: Veri formatÄ± doÄŸru olsa da, iÃ§erik tahminleme iÃ§in yetersiz. Ã–rneÄŸin,
gÃ¼venilir bir tahmin iÃ§in Ã§ok az sayÄ±da (Ã¶rn: < 30) veri noktasÄ± gÃ¶nderildi.
Ã‡Ã¶zÃ¼m: Daha uzun bir zaman aralÄ±ÄŸÄ±nÄ± kapsayan, daha fazla sayÄ±da geÃ§miÅŸ satÄ±ÅŸ
verisi gÃ¶nderin.
{"error": "insufficient_data", "message": "GÃ¼venilir
tahmin iÃ§in en az 30 veri noktasÄ± gereklidir."}
8/17/25, 12:40 AM Otomatik SatÄ±ÅŸ ve Stok Tahminleme API'si - KapsamlÄ± Teknik Rehber
ï¬le:///Users/ayberkcakar/Downloads/sales-prediction-api-doc.html 8/8